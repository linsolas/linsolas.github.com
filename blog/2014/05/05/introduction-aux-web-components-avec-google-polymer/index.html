
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Introduction aux web-components avec Google Polymer - fr.romain:blog:3.0</title>
  <meta name="author" content="Romain Linsolas">

  
  <meta name="description" content="Lors de Devoxx France 2014, j&#8217;ai présenté avec mon ami Julien Jakubowski un &#8220;Tools In Action&#8221; sur la création de web component avec &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://linsolas.github.com/blog/2014/05/05/introduction-aux-web-components-avec-google-polymer/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="fr.romain:blog:3.0" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-34711882-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">fr.romain:blog:3.0</a></h1>
  
    <h2>Un blog qu'il est bien pour le Java</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:linsolas.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/about">A propos</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Introduction Aux Web-components Avec Google Polymer</h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-05-05T22:00:00+02:00" pubdate data-updated="true">May 5<span>th</span>, 2014</time>
        
         | <a href="#disqus_thread">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><p>Lors de <a href="http://www.devoxx.fr">Devoxx France 2014</a>, j&#8217;ai présenté avec mon ami <a href="https://twitter.com/jak78">Julien Jakubowski</a> un &#8220;Tools In Action&#8221; sur la <a href="http://cfp.devoxx.fr/devoxxfr2014/talk/HXP-745/Cr%C3%A9ons%20un%20web%20component%20avec%20Polymer">création de web component avec Google Polymer</a>.</p>

<p>Peut-être que vous n&#8217;avez pas eu la chance de venir y assister. Je vous propose donc une initiation à Google Polymer et aux web components.</p>

<h1>Les web components, qu&#8217;est-ce ?</h1>

<p>Un site internet, c&#8217;est un ensemble de pages écrites en HTML (dans la plupart des cas du moins). Aujourd&#8217;hui, ces sites sont de plus en plus riches, de plus en plus dynamiques. Les composants qui structurent une page web sont de fait plus complexes.
Paradoxalement, le langage HTML est un langage assez pauvre, puisqu&#8217;il ne dispose que d&#8217;un peu plus d&#8217;une centaine de &#8220;mots&#8221;, les balises.
Résultat, il faut généralement bidouiller pour créer un vrai composant. Ainsi, avec Twitter Bootstrap, la création d&#8217;un panneau d&#8217;onglets va nécessiter d&#8217;utiliser les balises de liste (<code>&lt;ul&gt;</code> et <code>&lt;li&gt;</code>) comme cela :</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;ul</span> <span class="na">class=</span><span class="s">&quot;nav nav-tabs&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>  <span class="nt">&lt;li</span> <span class="na">class=</span><span class="s">&quot;active&quot;</span><span class="nt">&gt;&lt;a</span> <span class="na">href=</span><span class="s">&quot;#home&quot;</span> <span class="na">data-toggle=</span><span class="s">&quot;tab&quot;</span><span class="nt">&gt;</span>Home<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
</span><span class='line'>  <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">&quot;#profile&quot;</span> <span class="na">data-toggle=</span><span class="s">&quot;tab&quot;</span><span class="nt">&gt;</span>Profile<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
</span><span class='line'>  <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">&quot;#messages&quot;</span> <span class="na">data-toggle=</span><span class="s">&quot;tab&quot;</span><span class="nt">&gt;</span>Messages<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
</span><span class='line'>  <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">&quot;#settings&quot;</span> <span class="na">data-toggle=</span><span class="s">&quot;tab&quot;</span><span class="nt">&gt;</span>Settings<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
</span><span class='line'><span class="nt">&lt;/ul&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Ce n&#8217;est pas trop moche, mais cela reste moins lisible que quelque chose de ce genre :</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;tabs-pane&gt;</span>
</span><span class='line'>  <span class="nt">&lt;tab</span> <span class="na">title=</span><span class="s">&quot;Home&quot;</span> <span class="na">active=</span><span class="s">&quot;true&quot;</span><span class="nt">&gt;</span>...<span class="nt">&lt;/tab&gt;</span>
</span><span class='line'>  <span class="nt">&lt;tab</span> <span class="na">title=</span><span class="s">&quot;Profile&quot;</span><span class="nt">&gt;</span>...<span class="nt">&lt;/tab&gt;</span>
</span><span class='line'>  <span class="nt">&lt;tab</span> <span class="na">title=</span><span class="s">&quot;Messages&quot;</span><span class="nt">&gt;</span>...<span class="nt">&lt;/tab&gt;</span>
</span><span class='line'>  <span class="nt">&lt;tab</span> <span class="na">title=</span><span class="s">&quot;Settings&quot;</span><span class="nt">&gt;</span>...<span class="nt">&lt;/tab&gt;</span>
</span><span class='line'><span class="nt">&lt;/tabs-pane&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Or la lisibilité est un critère très important quand on sait que l&#8217;on doit passer 80% du temps à lire du code et 20% à en écrire.</p>

<p>Dans le même genre, est-ce qu&#8217;il ne serait pas plus pratique d&#8217;écrire ceci pour embarquer un tweet dans une page :</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;tweet</span> <span class="na">tweetId=</span><span class="s">&quot;123456789&quot;</span><span class="nt">&gt;&lt;/tweet&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Hé bien c&#8217;est le but des web components que de proposer de créer ses propres balises HTML et de pouvoir les exporter facilement.</p>

<h1>Le standard web component</h1>

<p>Finalement, créer ses propres tags HTML n&#8217;est pas quelque chose de nouveau, on peut le faire grâce à différents frameworks - comme par exemple avec une directive AngularJS - voire même en pur JavaScript.
Mais les web components sont en réalité <a href="http://www.w3.org/TR/components-intro/">un standard en cours d&#8217;élaboration par le W3C</a>, et c&#8217;est là sa force première. Pour être plus précis, il s&#8217;agit d&#8217;un ensemble de standards, comprennant les briques nécessaires à l&#8217;élaboration d&#8217;un composant web. Je pense par exemple au <a href="http://w3c.github.io/webcomponents/spec/shadow/">shadow DOM</a> ou encore au <a href="https://dvcs.w3.org/hg/webcomponents/raw-file/tip/spec/templates/index.html#template-element">HTML template</a>.</p>

<p>Ces standards sont toujours à l&#8217;étude, mais il existe quelques implémentations pour pouvoir jouer dès à présent avec les web components. Celui qui va nous intéresser plus particulièrement c&#8217;est celle de Google, à savoir <a href="http://www.polymer-project.org/">Polymer</a>.</p>

<p><img src="http://www.polymer-project.org/images/logos/p-logo.svg" title="Google Polymer" alt="Google Polymer" /></p>

<h1>Let&#8217;s start!</h1>

<p>Assez parlé, codons ! Je vous propose de coder une balise <code>progress-bar</code>, basée sur <a href="http://getbootstrap.com/components/#progress">celle proposée par Twitter Bootstrap</a>. Le code HTML est le suivant :</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;progress progress-striped&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;progress-bar progress-bar-info&quot;</span> <span class="na">role=</span><span class="s">&quot;progressbar&quot;</span> <span class="na">aria-valuenow=</span><span class="s">&quot;20&quot;</span> <span class="na">aria-valuemin=</span><span class="s">&quot;0&quot;</span> <span class="na">aria-valuemax=</span><span class="s">&quot;100&quot;</span> <span class="na">style=</span><span class="s">&quot;width: 20%&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;sr-only&quot;</span><span class="nt">&gt;</span>20% Complete<span class="nt">&lt;/span&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/div&gt;</span>
</span><span class='line'><span class="nt">&lt;/div&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Commençons par créer une application web toute simple. On va donc s&#8217;appuyer sur <a href="https://github.com/yeoman/yo">yo</a>, qui permet grâce à un générateur spécifique de nous créer une application blanche, préconfigurée pour un contexte particulier. On exécute ainsi la commande <code>yo webapp</code>. Une fois la structure générée, un petit <code>npm install</code> puis <code>bower install</code> nous permettent d&#8217;être prêt à coder. Pour nos besoins, j&#8217;ai un peu épuré le projet, en supprimant quelques éléments inutiles et en enlevant jQuery, qui n&#8217;est pas toujours utile.</p>

<p>Grâce à sa pré-configuration grâce à <code>yo</code>, nous disposons d&#8217;une tâche <a href="http://gruntjs.com/">Grunt</a> (une sorte de <code>Apache Ant</code>, mais pour JavaScript) <code>serve</code>, qui va nous permettre de modifier notre code et de voir automatiquement le navigateur se recharger pour prendre ces modifications en compte. Il nous suffit donc d&#8217;exécuter <code>grunt serve</code>, et c&#8217;est tout ! Notre page sera dès lors visible à l&#8217;adresse http://localhost:9000.</p>

<p>Première étape, il nous faut ajouter la librairie Polymer à notre projet. On va donc utiliser <a href="http://bower.io/">bower</a> pour gérer notre dépendance, on exécute donc la commande <code>bower install polymer --save</code> (l&#8217;option <code>--save</code> permet d&#8217;ajouter la dépendance dans le fichier <code>bower.json</code>). Nous disposons maintenant de <code>Polymer</code> dans le répertoire <code>bower_components</code>, mais aussi de <code>platform</code>. Comme je l&#8217;ai expliqué, les web components se basent sur un ensemble de briques qui ne sont aujourd&#8217;hui pas toutes supportées nativement par les navigateurs. Il faut donc les émuler, via des &#8220;polyfills&#8221;. Et c&#8217;est précisément le rôle de <code>platform</code>.</p>

<p>Voilà notre HTML de base pour bien démarrer :</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="cp">&lt;!doctype html&gt;</span>
</span><span class='line'><span class="nt">&lt;html&gt;</span>
</span><span class='line'>    <span class="nt">&lt;head&gt;</span>
</span><span class='line'>        <span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">&quot;utf-8&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>        <span class="nt">&lt;title&gt;</span>Polymer<span class="nt">&lt;/title&gt;</span>
</span><span class='line'>        <span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;viewport&quot;</span> <span class="na">content=</span><span class="s">&quot;width=device-width&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>        <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">href=</span><span class="s">&quot;../bower_components/bootstrap/dist/css/bootstrap.css&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>        <span class="c">&lt;!-- Nos dépendances pour utiliser Polymer --&gt;</span>
</span><span class='line'>        <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;../bower_components/platform/platform.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
</span><span class='line'>        <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;../bower_components/polymer/polymer.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/head&gt;</span>
</span><span class='line'>    <span class="nt">&lt;body&gt;</span>
</span><span class='line'>        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;container&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;header&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>                <span class="nt">&lt;h3</span> <span class="na">class=</span><span class="s">&quot;text-muted&quot;</span><span class="nt">&gt;</span>Google Polymer<span class="nt">&lt;/h3&gt;</span>
</span><span class='line'>            <span class="nt">&lt;/div&gt;</span>
</span><span class='line'>            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;footer&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>                <span class="nt">&lt;p&gt;&lt;span</span> <span class="na">class=</span><span class="s">&quot;glyphicon glyphicon-heart&quot;</span><span class="nt">&gt;&lt;/span&gt;</span> Polymer<span class="nt">&lt;/p&gt;</span>
</span><span class='line'>            <span class="nt">&lt;/div&gt;</span>
</span><span class='line'>        <span class="nt">&lt;/div&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/body&gt;</span>
</span><span class='line'><span class="nt">&lt;/html&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Commençons par créer un élément Polymer pour le composant <code>progress-bar</code>. A noter qu&#8217;un composant Polymer doit être composé de deux mots séparés par un <code>-</code> (sans doute pour éviter la confusion avec les &#8220;vrais&#8221; tags HTML) :</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;polymer</span><span class="na">-element</span> <span class="na">name=</span><span class="s">&quot;progress-bar&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>    <span class="nt">&lt;template&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/template&gt;</span>
</span><span class='line'>    <span class="nt">&lt;script&gt;</span>
</span><span class='line'>        <span class="kd">var</span> <span class="nx">module</span> <span class="o">=</span> <span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>        <span class="p">})();</span>
</span><span class='line'>        <span class="nx">Polymer</span><span class="p">(</span><span class="s1">&#39;progress-bar&#39;</span><span class="p">,</span> <span class="nx">module</span><span class="p">);</span>
</span><span class='line'>    <span class="nt">&lt;/script&gt;</span>
</span><span class='line'><span class="err">&lt;</span>/polymer-element&gt;
</span></code></pre></td></tr></table></div></figure>


<p>On voit trois choses intéressantes :</p>

<ul>
<li>le tag <code>polymer-element</code> qui prend le nom du composant (<code>progress-bar</code>) ;</li>
<li>le tag <code>&lt;template&gt;</code> qui va nous permettre d&#8217;ajouter le code HTML ;</li>
<li>la partie script qui nous permet d&#8217;initialiser un objet <code>module</code> qui correspond à notre composant Polymer, ainsi que la ligne <code>Polymer('progress-bar', module);</code> qui permet de l&#8217;enregistrer pour l&#8217;utiliser par la suite.</li>
</ul>


<p>On injecte alors le code HTML de la barre de progression dans le <code>&lt;template&gt;</code>, comme suit:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;polymer</span><span class="na">-element</span> <span class="na">name=</span><span class="s">&quot;progress-bar&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>    <span class="nt">&lt;template&gt;</span>
</span><span class='line'>        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;progress progress-striped&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;progress-bar progress-bar-info&quot;</span> <span class="na">role=</span><span class="s">&quot;progressbar&quot;</span> <span class="na">aria-valuenow=</span><span class="s">&quot;20&quot;</span> <span class="na">aria-valuemin=</span><span class="s">&quot;0&quot;</span> <span class="na">aria-valuemax=</span><span class="s">&quot;100&quot;</span> <span class="na">style=</span><span class="s">&quot;width: 20%&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>                <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;sr-only&quot;</span><span class="nt">&gt;</span>20% Complete<span class="nt">&lt;/span&gt;</span>
</span><span class='line'>            <span class="nt">&lt;/div&gt;</span>
</span><span class='line'>        <span class="nt">&lt;/div&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/template&gt;</span>
</span><span class='line'>    <span class="nt">&lt;script&gt;</span>
</span><span class='line'>        <span class="kd">var</span> <span class="nx">module</span> <span class="o">=</span> <span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>        <span class="p">})();</span>
</span><span class='line'>        <span class="nx">Polymer</span><span class="p">(</span><span class="s1">&#39;progress-bar&#39;</span><span class="p">,</span> <span class="nx">module</span><span class="p">);</span>
</span><span class='line'>    <span class="nt">&lt;/script&gt;</span>
</span><span class='line'><span class="err">&lt;</span>/polymer-element&gt;
</span></code></pre></td></tr></table></div></figure>


<p>C&#8217;est bien, mais il faudrait pouvoir définir le pourcentage de progression dynamiquement, dont acte :</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;polymer</span><span class="na">-element</span> <span class="na">name=</span><span class="s">&quot;progress-bar&quot;</span> <span class="na">attributes=</span><span class="s">&quot;percentage&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>    <span class="nt">&lt;template&gt;</span>
</span><span class='line'>        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;progress progress-striped&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;progress-bar progress-bar-info&quot;</span> <span class="na">role=</span><span class="s">&quot;progressbar&quot;</span> <span class="na">aria-valuenow=</span><span class="s">&quot;&quot;</span> <span class="na">aria-valuemin=</span><span class="s">&quot;0&quot;</span> <span class="na">aria-valuemax=</span><span class="s">&quot;100&quot;</span> <span class="na">style=</span><span class="s">&quot;width: %&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>                <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;sr-only&quot;</span><span class="nt">&gt;</span>% Complete<span class="nt">&lt;/span&gt;</span>
</span><span class='line'>            <span class="nt">&lt;/div&gt;</span>
</span><span class='line'>        <span class="nt">&lt;/div&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/template&gt;</span>
</span><span class='line'><span class="err">&lt;</span>/polymer-element&gt;
</span><span class='line'><span class="nt">&lt;progress</span><span class="na">-bar</span> <span class="na">percentage=</span><span class="s">&quot;42&quot;</span><span class="nt">&gt;</span><span class="err">&lt;</span>/progress-bar&gt;
</span></code></pre></td></tr></table></div></figure>


<p>On voit plusieurs choses :</p>

<ul>
<li>il faut définir les attributs passés au composant via l&#8217;attribut <code>attributes="percentage"</code> ;</li>
<li>dans le code HTML, on peut accéder à cette information via la syntaxe &#8220;double moustaches&#8221;, &#8220;. Les habitués d&#8217;Angular ne seront pas perdus !</li>
</ul>


<p>Changeons un peu notre composant pour donner un <code>min</code>, un <code>max</code> et une <code>value</code>, en laissant à la charge du composant de calculer lui-même le pourcentage:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;polymer</span><span class="na">-element</span> <span class="na">name=</span><span class="s">&quot;progress-bar&quot;</span> <span class="na">attributes=</span><span class="s">&quot;min,max,value&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>    <span class="nt">&lt;template&gt;</span>
</span><span class='line'>        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;progress progress-striped&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;progress-bar progress-bar-info&quot;</span> <span class="na">role=</span><span class="s">&quot;progressbar&quot;</span> <span class="na">aria-valuenow=</span><span class="s">&quot;&quot;</span> <span class="na">aria-valuemin=</span><span class="s">&quot;&quot;</span> <span class="na">aria-valuemax=</span><span class="s">&quot;&quot;</span> <span class="na">style=</span><span class="s">&quot;width: %&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>                <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;sr-only&quot;</span><span class="nt">&gt;</span>% Complete<span class="nt">&lt;/span&gt;</span>
</span><span class='line'>            <span class="nt">&lt;/div&gt;</span>
</span><span class='line'>        <span class="nt">&lt;/div&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/template&gt;</span>
</span><span class='line'>    <span class="nt">&lt;script&gt;</span>
</span><span class='line'>        <span class="kd">var</span> <span class="nx">module</span> <span class="o">=</span> <span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>            <span class="k">return</span> <span class="p">{</span>
</span><span class='line'>                <span class="nx">get</span> <span class="nx">percentage</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>                    <span class="k">return</span> <span class="p">((</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span> <span class="o">-</span> <span class="k">this</span><span class="p">.</span><span class="nx">min</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">max</span> <span class="o">-</span> <span class="k">this</span><span class="p">.</span><span class="nx">min</span><span class="p">))</span> <span class="o">*</span> <span class="mi">100</span><span class="p">;</span>
</span><span class='line'>                <span class="p">}</span>
</span><span class='line'>            <span class="p">}</span>
</span><span class='line'>        <span class="p">})();</span>
</span><span class='line'>        <span class="nx">Polymer</span><span class="p">(</span><span class="s1">&#39;progress-bar&#39;</span><span class="p">,</span> <span class="nx">module</span><span class="p">);</span>
</span><span class='line'>    <span class="nt">&lt;/script&gt;</span>
</span><span class='line'><span class="err">&lt;</span>/polymer-element&gt;
</span><span class='line'><span class="c">&lt;!-- Utilisation dans ma page du web component &quot;progress-bar&quot; --&gt;</span>
</span><span class='line'><span class="nt">&lt;progress</span><span class="na">-bar</span> <span class="na">min=</span><span class="s">&quot;0&quot;</span> <span class="na">max=</span><span class="s">&quot;20&quot;</span> <span class="na">value=</span><span class="s">&quot;12&quot;</span><span class="nt">&gt;</span><span class="err">&lt;</span>/progress-bar&gt;
</span></code></pre></td></tr></table></div></figure>


<p>On voit ici aussi que les paramètres, <code>min</code>, <code>max</code> ou <code>value</code> sont disponibles également dans la partie <code>&lt;script&gt;</code>.</p>

<p>Et si on souhaite change la valeur courante ? Un web component peut être accédé de la même façon que n&#8217;importe quel autre élément du DOM, donc un simple bout de JavaScript suffit :</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;button</span> <span class="na">class=</span><span class="s">&quot;btn btn-primary&quot;</span> <span class="na">onclick=</span><span class="s">&quot;changeValue()&quot;</span><span class="nt">&gt;</span>Change value<span class="nt">&lt;/button&gt;</span>
</span><span class='line'><span class="nt">&lt;script&gt;</span>
</span><span class='line'>    <span class="kd">function</span> <span class="nx">changeValue</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>        <span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;#progression&#39;</span><span class="p">);</span> <span class="c1">// On récupère l&#39;objet</span>
</span><span class='line'>        <span class="nx">bar</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="o">+</span><span class="nx">bar</span><span class="p">.</span><span class="nx">min</span> <span class="o">+</span> <span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">*</span> <span class="p">(</span><span class="nx">bar</span><span class="p">.</span><span class="nx">max</span> <span class="o">-</span> <span class="nx">bar</span><span class="p">.</span><span class="nx">min</span><span class="p">));</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="nt">&lt;/script&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Il serait sans doute plus propre de proposer des fonctions, comme par exemple <code>updateValue</code>:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;polymer</span><span class="na">-element</span> <span class="na">name=</span><span class="s">&quot;progress-bar&quot;</span> <span class="na">attributes=</span><span class="s">&quot;min,max,value&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>    ...
</span><span class='line'>    <span class="nt">&lt;script&gt;</span>
</span><span class='line'>        <span class="kd">var</span> <span class="nx">module</span> <span class="o">=</span> <span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>            <span class="k">return</span> <span class="p">{</span>
</span><span class='line'>                <span class="nx">get</span> <span class="nx">percentage</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>                    <span class="k">return</span> <span class="p">((</span><span class="k">this</span><span class="p">.</span><span class="nx">value</span> <span class="o">-</span> <span class="k">this</span><span class="p">.</span><span class="nx">min</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">max</span> <span class="o">-</span> <span class="k">this</span><span class="p">.</span><span class="nx">min</span><span class="p">))</span> <span class="o">*</span> <span class="mi">100</span><span class="p">;</span>
</span><span class='line'>                <span class="p">},</span>
</span><span class='line'>                <span class="nx">updateValue</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">val</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>                    <span class="k">this</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="nx">val</span><span class="p">;</span>
</span><span class='line'>                <span class="p">}</span>
</span><span class='line'>            <span class="p">}</span>
</span><span class='line'>        <span class="p">})();</span>
</span><span class='line'>        <span class="nx">Polymer</span><span class="p">(</span><span class="s1">&#39;progress-bar&#39;</span><span class="p">,</span> <span class="nx">module</span><span class="p">);</span>
</span><span class='line'>    <span class="nt">&lt;/script&gt;</span>
</span><span class='line'><span class="err">&lt;</span>/polymer-element&gt;
</span></code></pre></td></tr></table></div></figure>


<p>pour pouvoir l&#8217;appeler ensuite :</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">function</span> <span class="nx">changeValue</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>    <span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">&#39;#progression&#39;</span><span class="p">);</span>
</span><span class='line'>    <span class="nx">bar</span><span class="p">.</span><span class="nx">updateValue</span><span class="p">(</span><span class="o">+</span><span class="nx">bar</span><span class="p">.</span><span class="nx">min</span> <span class="o">+</span> <span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">*</span> <span class="p">(</span><span class="nx">bar</span><span class="p">.</span><span class="nx">max</span> <span class="o">-</span> <span class="nx">bar</span><span class="p">.</span><span class="nx">min</span><span class="p">)));</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<h1>Externalisation</h1>

<p>C&#8217;est bien beau tout ça, mais comment je fournis ce web component tout beau à une autre équipe ?
C&#8217;est simple. Je déplace tout le code du <code>&lt;polymer-element&gt;</code> dans un fichier séparé, par exemple <code>progress-bar.html</code>, puis je l&#8217;importe grâce à cette petite ligne dans mon entête de page :</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="o">&lt;</span><span class="nx">link</span> <span class="nx">rel</span><span class="o">=</span><span class="s2">&quot;import&quot;</span> <span class="nx">href</span><span class="o">=</span><span class="s2">&quot;progress-bar.html&quot;</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Le reste de ma page initiale ne change pas, je peux du coup utiliser mon <code>&lt;progress-bar id="progression" min="0" max="20" value="12"&gt;&lt;/progress-bar&gt;</code> sans problème.
A la limite, je pourrais même sortir le lien vers la librairie <code>polymer</code> et le mettre directement dans mon fichier HTML :</p>

<p><code>progress-bar.html</code> :</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;../bower_components/polymer/polymer.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
</span><span class='line'><span class="nt">&lt;polymer</span><span class="na">-element</span> <span class="na">name=</span><span class="s">&quot;progress-bar&quot;</span> <span class="na">attributes=</span><span class="s">&quot;min,max,value&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>    ...
</span><span class='line'><span class="err">&lt;</span>/polymer-element&gt;
</span></code></pre></td></tr></table></div></figure>


<p>et dans ma page <code>index.html</code> :</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;html&gt;</span>
</span><span class='line'>    <span class="nt">&lt;head&gt;</span>
</span><span class='line'>        ...
</span><span class='line'>        <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;../bower_components/platform/platform.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
</span><span class='line'>        <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;import&quot;</span> <span class="na">href=</span><span class="s">&quot;progress-bar.html&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/head&gt;</span>
</span><span class='line'>    <span class="nt">&lt;body&gt;</span>
</span><span class='line'>      ...
</span><span class='line'>        <span class="nt">&lt;progress</span><span class="na">-bar</span> <span class="na">id=</span><span class="s">&quot;progression&quot;</span> <span class="na">min=</span><span class="s">&quot;10&quot;</span> <span class="na">max=</span><span class="s">&quot;20&quot;</span> <span class="na">value=</span><span class="s">&quot;12&quot;</span><span class="nt">&gt;</span><span class="err">&lt;</span>/progress-bar&gt;
</span><span class='line'>    <span class="nt">&lt;/body&gt;</span>
</span><span class='line'><span class="nt">&lt;/html&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Il est (pour l&#8217;instant) encore nécessaire d&#8217;avoir un lien vers la librairie <code>platform</code> dans la page principale car le <code>import</code> est lui-même <a href="http://www.w3.org/TR/2014/WD-html-imports-20140311/">un standard</a> en cours de travail du W3C et n&#8217;est donc pas supporté nativement par les navigateurs. Il faut donc avoir recours au polyfill de <code>platform</code> pour l&#8217;instant.</p>

<p>Voilà un premier voyage dans le monde des web components avec Polymer. D&#8217;autres billets viendront peut-être le compléter&#8230;</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Romain Linsolas</span></span>

      








  


<time datetime="2014-05-05T22:00:00+02:00" pubdate data-updated="true">May 5<span>th</span>, 2014</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/polymer/'>polymer</a>, <a class='category' href='/blog/categories/web/'>web</a>, <a class='category' href='/blog/categories/web-component/'>web-component</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://linsolas.github.com/blog/2014/05/05/introduction-aux-web-components-avec-google-polymer/" data-via="romaintaz" data-counturl="http://linsolas.github.com/blog/2014/05/05/introduction-aux-web-components-avec-google-polymer/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2014/01/20/une-annee-de-bbl-a-la-sgcib/" title="Previous Post: Une année de BBL à la SGCIB">&laquo; Une année de BBL à la SGCIB</a>
      
      
        <a class="basic-alignment right" href="/blog/2014/05/19/retour-sur-devoxx-france-2014/" title="Next Post: Retour sur Devoxx France 2014">Retour sur Devoxx France 2014 &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Derniers Billets</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/05/19/hackathon-societe-generale/">Hackathon Société Générale</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/05/19/retour-sur-devoxx-france-2014/">Retour sur Devoxx France 2014</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/05/05/introduction-aux-web-components-avec-google-polymer/">Introduction aux web-components avec Google Polymer</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/01/20/une-annee-de-bbl-a-la-sgcib/">Une année de BBL à la SGCIB</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/11/15/mon-interview-sur-developpez-dot-com/">Mon interview sur Developpez.com</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating...</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("romaintaz", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/romaintaz" class="twitter-follow-button" data-show-count="false">Follow @romaintaz</a>
  
</section>

<section>
  <h1>A propos</h1>
  <p>Je m'appelle Romain Linsolas, et je suis un développeur Java et web. Voici mon blog, pour vous faire partager ma passion !</p>
<a href="http://stackoverflow.com/users/26457/romaintaz"><img src="http://stackoverflow.com/users/flair/26457.png?theme=clean" width="208" height="58" alt="profile for romaintaz at Stack Overflow, Q&amp;A for professional and enthusiast programmers" title="profile for romaintaz at Stack Overflow, Q&amp;A for professional and enthusiast programmers"></a>
</section>

  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Romain Linsolas -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'romain';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://linsolas.github.com/blog/2014/05/05/introduction-aux-web-components-avec-google-polymer/';
        var disqus_url = 'http://linsolas.github.com/blog/2014/05/05/introduction-aux-web-components-avec-google-polymer/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
